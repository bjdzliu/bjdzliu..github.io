<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><title>Agent-Tuning | Have a Nice Journey</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="keywords" content="LLM"><meta name="description" content="èƒŒæ™¯å¼€æºé€šç”¨çš„LLMsåœ¨æ‰§è¡Œ agent ä»»åŠ¡æ—¶ï¼Œè¿œä¸å¦‚ ChatGPT å’Œ GPT-4 ç­‰å•†ä¸šæ¨¡å‹ã€‚åœ¨å¾ˆå¤šå®é™…åº”ç”¨åœºæ™¯ï¼Œæ— æ³•ä½¿ç”¨æœ€å¼ºçš„å¤§æ¨¡å‹ API ï¼Œéœ€è¦ç§æœ‰åŒ–éƒ¨ç½²å°æ¨¡å‹ï¼Œéœ€è¦æ§åˆ¶æ¨ç†æˆæœ¬ã€‚æé«˜agentä»»åŠ¡çš„èƒ½åŠ›ï¼Œè¦ä¹ˆæ˜¯ä¸“æ³¨å¯¹æŸä¸ªLLMè¿›è¡Œagentè°ƒä¼˜ï¼Œè¦ä¹ˆæ˜¯å†™ä¸€ä¸ªä¸“é—¨çš„agentæ¡†æ¶ã€‚è®ºæ–‡é‡Œæå‡ºäº†Agent-Tuningï¼Œå…¶ç›®æ ‡æ˜¯æé«˜LLMsçš„é€šç”¨ä»£ç†èƒ½åŠ›ï¼ŒåŒæ—¶è‡³å°‘ä¿æŒå®ƒä»¬çš„ä¸€èˆ¬LLMèƒ½"><meta name="keywords" content="LLM"><meta property="og:type" content="article"><meta property="og:title" content="Agent-Tuning"><meta property="og:url" content="http://yoursite.com/2024/07/15/Agent-Tuning/index.html"><meta property="og:site_name" content="Have a Nice Journey"><meta property="og:description" content="èƒŒæ™¯å¼€æºé€šç”¨çš„LLMsåœ¨æ‰§è¡Œ agent ä»»åŠ¡æ—¶ï¼Œè¿œä¸å¦‚ ChatGPT å’Œ GPT-4 ç­‰å•†ä¸šæ¨¡å‹ã€‚åœ¨å¾ˆå¤šå®é™…åº”ç”¨åœºæ™¯ï¼Œæ— æ³•ä½¿ç”¨æœ€å¼ºçš„å¤§æ¨¡å‹ API ï¼Œéœ€è¦ç§æœ‰åŒ–éƒ¨ç½²å°æ¨¡å‹ï¼Œéœ€è¦æ§åˆ¶æ¨ç†æˆæœ¬ã€‚æé«˜agentä»»åŠ¡çš„èƒ½åŠ›ï¼Œè¦ä¹ˆæ˜¯ä¸“æ³¨å¯¹æŸä¸ªLLMè¿›è¡Œagentè°ƒä¼˜ï¼Œè¦ä¹ˆæ˜¯å†™ä¸€ä¸ªä¸“é—¨çš„agentæ¡†æ¶ã€‚è®ºæ–‡é‡Œæå‡ºäº†Agent-Tuningï¼Œå…¶ç›®æ ‡æ˜¯æé«˜LLMsçš„é€šç”¨ä»£ç†èƒ½åŠ›ï¼ŒåŒæ—¶è‡³å°‘ä¿æŒå®ƒä»¬çš„ä¸€èˆ¬LLMèƒ½"><meta property="og:locale" content="en"><meta property="og:updated_time" content="2025-01-22T14:10:26.450Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Agent-Tuning"><meta name="twitter:description" content="èƒŒæ™¯å¼€æºé€šç”¨çš„LLMsåœ¨æ‰§è¡Œ agent ä»»åŠ¡æ—¶ï¼Œè¿œä¸å¦‚ ChatGPT å’Œ GPT-4 ç­‰å•†ä¸šæ¨¡å‹ã€‚åœ¨å¾ˆå¤šå®é™…åº”ç”¨åœºæ™¯ï¼Œæ— æ³•ä½¿ç”¨æœ€å¼ºçš„å¤§æ¨¡å‹ API ï¼Œéœ€è¦ç§æœ‰åŒ–éƒ¨ç½²å°æ¨¡å‹ï¼Œéœ€è¦æ§åˆ¶æ¨ç†æˆæœ¬ã€‚æé«˜agentä»»åŠ¡çš„èƒ½åŠ›ï¼Œè¦ä¹ˆæ˜¯ä¸“æ³¨å¯¹æŸä¸ªLLMè¿›è¡Œagentè°ƒä¼˜ï¼Œè¦ä¹ˆæ˜¯å†™ä¸€ä¸ªä¸“é—¨çš„agentæ¡†æ¶ã€‚è®ºæ–‡é‡Œæå‡ºäº†Agent-Tuningï¼Œå…¶ç›®æ ‡æ˜¯æé«˜LLMsçš„é€šç”¨ä»£ç†èƒ½åŠ›ï¼ŒåŒæ—¶è‡³å°‘ä¿æŒå®ƒä»¬çš„ä¸€èˆ¬LLMèƒ½"><link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="/libs/titillium-web/styles.css"><link rel="stylesheet" href="/libs/source-code-pro/styles.css"><link rel="stylesheet" href="/css/style.css"><script src="/libs/jquery/2.0.3/jquery.min.js"></script><link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css"><link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css"></head></html><body><div id="wrap"><header id="header"><div id="header-outer" class="outer"><div class="container"><div class="container-inner"><div id="header-title"><h1 class="logo-wrap"><a href="/" class="logo"></a></h1></div><div id="header-inner" class="nav-container"><a id="main-nav-toggle" class="nav-icon fa fa-bars"></a><div class="nav-container-inner"><ul id="main-nav"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/">Home</a></li><ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Technical-Notes/">Technical Notes</a></li></ul><li class="main-nav-list-item"><a class="main-nav-list-link" href="/about/index.html">About</a></li></ul><nav id="sub-nav"><div id="search-form-wrap"><form class="search-form"><input type="text" class="ins-search-input search-form-input" placeholder="Search"> <button type="submit" class="search-form-submit"></button></form><div class="ins-search"><div class="ins-search-mask"></div><div class="ins-search-container"><div class="ins-input-wrapper"><input type="text" class="ins-search-input" placeholder="Type something..."> <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span></div><div class="ins-section-wrapper"><div class="ins-section-container"></div></div></div></div><script>window.INSIGHT_CONFIG={TRANSLATION:{POSTS:"Posts",PAGES:"Pages",CATEGORIES:"Categories",TAGS:"Tags",UNTITLED:"(Untitled)"},ROOT_URL:"/",CONTENT_URL:"/content.json"}</script><script src="/js/insight.js"></script></div></nav></div></div></div></div></div></header><div class="container"><div class="main-body container-inner"><div class="main-body-inner"><section id="main"><div class="main-body-header"><h1 class="header"><a class="page-title-link" href="/categories/Technical-Notes/">Technical Notes</a></h1></div><div class="main-body-content"><article id="post-Agent-Tuning" class="article article-single article-type-post" itemscope itemprop="blogPost"><div class="article-inner"><header class="article-header"><h1 class="article-title" itemprop="name">Agent-Tuning</h1></header><div class="article-meta"><div class="article-date"><a href="/2024/07/15/Agent-Tuning/" class="article-date"><time datetime="2024-07-15T20:33:00.000Z" itemprop="datePublished">2024-07-15</time></a></div><div class="article-tag"><i class="fa fa-tag"></i> <a class="tag-link" href="/tags/LLM/">LLM</a></div></div><div class="article-entry" itemprop="articleBody"><h3 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h3><p>å¼€æºé€šç”¨çš„LLMsåœ¨æ‰§è¡Œ agent ä»»åŠ¡æ—¶ï¼Œè¿œä¸å¦‚ ChatGPT å’Œ GPT-4 ç­‰å•†ä¸šæ¨¡å‹ã€‚åœ¨å¾ˆå¤šå®é™…åº”ç”¨åœºæ™¯ï¼Œæ— æ³•ä½¿ç”¨æœ€å¼ºçš„å¤§æ¨¡å‹ API ï¼Œéœ€è¦ç§æœ‰åŒ–éƒ¨ç½²å°æ¨¡å‹ï¼Œéœ€è¦æ§åˆ¶æ¨ç†æˆæœ¬ã€‚<br>æé«˜agentä»»åŠ¡çš„èƒ½åŠ›ï¼Œè¦ä¹ˆæ˜¯ä¸“æ³¨å¯¹æŸä¸ªLLMè¿›è¡Œagentè°ƒä¼˜ï¼Œè¦ä¹ˆæ˜¯å†™ä¸€ä¸ªä¸“é—¨çš„agentæ¡†æ¶ã€‚<br>è®ºæ–‡é‡Œæå‡ºäº†Agent-Tuningï¼Œå…¶ç›®æ ‡æ˜¯æé«˜LLMsçš„é€šç”¨ä»£ç†èƒ½åŠ›ï¼ŒåŒæ—¶è‡³å°‘ä¿æŒå®ƒä»¬çš„ä¸€èˆ¬LLMèƒ½åŠ›</p><h3 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h3><ul><li>æ„å»º AgentInstruct æ•°æ®é›†</li><li>å¾®è°ƒå¤§æ¨¡å‹</li></ul><h3 id="è®­ç»ƒæˆæœ¬ä¼°ç®—"><a href="#è®­ç»ƒæˆæœ¬ä¼°ç®—" class="headerlink" title="è®­ç»ƒæˆæœ¬ä¼°ç®—"></a>è®­ç»ƒæˆæœ¬ä¼°ç®—</h3><ul><li><p>è®­ç»ƒæ¡†æ¶ï¼š HuggingFace Trainer + DeepSpeed Zero3</p></li><li><p>é…ç½®è¯´æ˜ï¼šmax_lenï¼š4096 + Flash Attention + bf16 ï¼ˆbatchsize=1ã€AdamWä¼˜åŒ–å™¨ï¼‰</p></li></ul><p>æ¨¡å‹å¯ä»¥å¤„ç†çš„æœ€å¤§ token : 4096<br>é€šè¿‡å‡å°‘æ˜¾å­˜è®¿é—®æ¬¡æ•°å’Œä¼˜åŒ–è®¡ç®—æµç¨‹ï¼Œæ˜¾è‘—åŠ é€Ÿ Transformer æ¨¡å‹ä¸­çš„è‡ªæ³¨æ„åŠ›æœºåˆ¶<br>é‡‡ç”¨ bfloat16 æµ®ç‚¹æ•°æ ¼å¼ï¼Œå‡å°‘äº†å†…å­˜å ç”¨å’Œè®¡ç®—å¼€é”€<br>å¤šå¡è®­ç»ƒå¯ä»¥å‡å°‘è®­ç»ƒæ—¶é—´ã€‚<br>| <strong>æ¨¡å‹</strong> | <strong>è®­ç»ƒæœ€ä½é…ç½®</strong> | <strong>è®­ç»ƒæ•°æ®è§„æ¨¡ï¼ˆtokenæ•°ï¼‰</strong> | <strong>å»ºè®®è®­ç»ƒ epoch æ•°</strong> | <strong>å¹³å‡è®­ç»ƒæ—¶é•¿</strong> |<br>| â€” | â€” | :â€”: | :â€”: | â€” |<br>| 7B ï¼ˆå…¨å‚æ•°ï¼‰ | 4å¡A100ï¼ˆ4 * 80Gï¼‰ | 470M | 5 | 25h * 5 = 125h |<br>| 14B ï¼ˆå…¨å‚æ•°ï¼‰ | 8å¡A100ï¼ˆ8 * 80Gï¼‰ | 470M | 4 | 24h * 4 = 96h |<br>| 72B ï¼ˆå…¨å‚æ•°ï¼‰ | 32å¡A100ï¼ˆ32 * 80Gï¼‰ | 470M | 2 | 40h * 2 = 80h |</p><h3 id="æ„å»º-AgentInstruct"><a href="#æ„å»º-AgentInstruct" class="headerlink" title="æ„å»º AgentInstruct"></a>æ„å»º AgentInstruct</h3><p>æ™ºè°±å¼€æº<br>AgentInstruct æ˜¯ä¸€ä¸ªç»è¿‡æŒ‘é€‰çš„æ™ºèƒ½ä½“æ•°æ®é›†ï¼ŒåŒ…å« 1866 ä¸ªé«˜è´¨é‡äº¤äº’ã€6 ä¸ªå¤šæ ·åŒ–çš„çœŸå®åœºæ™¯ä»»åŠ¡<br>æ•°æ®é›†å¼€æºåœ¨ ğŸ¤—<a href="https://huggingface.co/datasets/THUDM/AgentInstruct" target="_blank" rel="noopener">Huggingface Repo</a></p><h4 id="æ„å»ºè®­ç»ƒæ•°æ®"><a href="#æ„å»ºè®­ç»ƒæ•°æ®" class="headerlink" title="æ„å»ºè®­ç»ƒæ•°æ®"></a>æ„å»ºè®­ç»ƒæ•°æ®</h4><p>å¼€æº agent tool prompt æ€è·¯æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯promptçš„æè¿°ï¼Œtoolå’Œè¿”å›actionçš„ç»“æ„æœ‰æ‰€ä¸åŒã€‚<br>è®­ç»ƒæ•°æ®åº”è¯¥åŒ…å«å„ç§ä¸åŒçš„promptæ¨¡æ¿å’Œresponse<br>è¿™é‡Œä¸¾ä¸€ä¸ªç®€å•çš„promptçš„ä¾‹å­</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">instruction = <span class="string">f"""</span></span><br><span class="line"><span class="string">You should follow the instructions to answer the question.</span></span><br><span class="line"><span class="string">1. Each time you make a decision, you use only one tool, and you can use it as many times as you like.</span></span><br><span class="line"><span class="string">2. Ensure that the command you invoke or the tool you use is included in the following given list of tools.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Answer the following questions as best you can. You have access to the following tools:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"><span class="subst">&#123;tool_list&#125;</span></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">If you find you need to find information from one of these tools, you can use the corresponding action. Tell me what action you want to take, and I will provide you with the information you need.</span></span><br><span class="line"><span class="string">If you need action, tell me the action name and wait for the result I send you.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Print the content using the following format:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Question: the input question you must answer</span></span><br><span class="line"><span class="string">Thought: you should always think about what to do</span></span><br><span class="line"><span class="string">Action: the action to take, should be one of <span class="subst">&#123;tool_list&#125;</span></span></span><br><span class="line"><span class="string">Action Input: the input to the action</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Begin!</span></span><br><span class="line"><span class="string">"""</span></span><br></pre></td></tr></table></figure><p>LLM ç¬¬ä¸€æ¬¡è¿”å›</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Thought: I need to retrieve information about the latest commit in the repository demo2_jenkinsfile in GitHub.</span><br><span class="line"></span><br><span class="line">Action: github_api</span><br><span class="line">Action Input: repository=demo2_jenkinsfile, info=latest_commit</span><br></pre></td></tr></table></figure><p>åœ¨ç¨‹åºä¸­ï¼Œè·å–actionï¼Œè°ƒç”¨å·¥å…·å¾—åˆ°ç»“æœåï¼Œå°†ç»“æœåŠä»¥ä¸Šprompt ä¸€å¹¶è¾“å…¥ç»™LLMï¼Œæœ€ç»ˆå¾—åˆ° response<br>æˆªæ­¢åˆ°ç°åœ¨ï¼Œå·²ç»å¾—åˆ°äº†ä¸€ä¸ªè®­ç»ƒæ•°æ®æ ·ä¾‹ï¼š</p><table><thead><tr><th>Input ( Agent Prompt )</th><th>Output ( Response )</th></tr></thead><tbody><tr><td>ï½œYou should follow the instructions to answer the question.<br>1. Each time you make a decision, you use only one tool, and you can use it as many times as you like.<br>2. Ensure that the command you invoke or the tool you use is included in the following given list of tools.<br>Answer the following questions as best you can. You have access to the following tools:<br>{tool_list}<br>If you find you need to find information from one of these tools, you can use the corresponding action. Tell me what action you want to take, and I will provide you with the information you need.<br>If you need action, tell me the action name and wait for the result I send you.<br>Print the content using the following format:<br>Question: the input question you must answer<br>Thought: you should always think about what to do<br>Action: the action to take, should be one of {tool_list}<br>Action Input: the input to the action</td><td>Thought: To find the latest commit in the repository demo2_jenkinsfile in GitHub, I should use the github_api tool. Letâ€™s use it to retrieve the information.<br>Action: github_api<br>Action Input: repository = â€œdemo2_jenkinsfileâ€<br>Observation: The latest commit in the repository demo2_jenkinsfile is â€œcde45f67890abcde12345f67890abcde12345f6â€.<br>Thought: The latest commit in the repository demo2_jenkinsfile is â€œcde45f67890abcde12345f67890abcde12345f6â€.</td></tr></tbody></table><p>æœ‰äº†è®­ç»ƒæ•°æ®ï¼Œå°±å¯ä»¥è¿›è¡Œå…¨å‚å¾®è°ƒï¼Œå¦‚æœä»…è¿›è¡Œ LoRAï¼ˆLow-Rank Adaptationï¼‰ï¼Œæ•ˆæœå¯èƒ½ä¸ç†æƒ³</p><h4 id="æ•ˆæœè¯„ä¼°"><a href="#æ•ˆæœè¯„ä¼°" class="headerlink" title="æ•ˆæœè¯„ä¼°"></a>æ•ˆæœè¯„ä¼°</h4><p>æ ¹æ®ä»»åŠ¡éœ€æ±‚ï¼Œè®¾è®¡è¾“å…¥æ¨¡æ¿æˆ–æç¤ºè¯ï¼ˆpromptï¼‰ï¼ŒæŒ‡å¯¼ GPT-4 ç”Ÿæˆç›¸å…³æ ·æœ¬ã€‚<br>å¯¹ GPT-4 ç”Ÿæˆçš„æ ·æœ¬è¿›è¡Œäººå·¥å®¡æ ¸ï¼Œæ£€æŸ¥å…¶å‡†ç¡®æ€§å’Œåˆç†æ€§ã€‚<br>å°†ä¿®æ­£åçš„æ ·æœ¬ä¸åˆå§‹éªŒè¯é›†åˆå¹¶ï¼Œå½¢æˆæœ€ç»ˆçš„ benchmarkã€‚<br>é‡‡ç”¨ç»¼åˆè¯„ä¼°æ–¹æ³•ï¼Œç»“åˆäº† ç²¾ç¡®åŒ¹é…ï¼ˆExact Match, EMï¼‰ å’Œ æ¨¡ç³ŠåŒ¹é…ï¼ˆå¦‚ ROUGEã€BLEUï¼‰ ä¸¤ç§è¯„ä¼°æ–¹å¼ï¼Œåˆ†åˆ«å¯¹å·¥å…·åç§°å’Œä»»åŠ¡æè¿°è¿›è¡Œè¯„åˆ†ã€‚</p><p>$$<br>\text{Score} = \text{EM}(T_{\text{gt}}, T_{\text{pred}}) + \lambda \times \text{Image}(D_{\text{gt}}, D_{\text{pred}})<br>$$</p><ul><li>( T_{\text{gt}} )ï¼šGround Truth ä¸­çš„å·¥å…·åç§°ã€‚</li><li>( T_{\text{pred}} )ï¼šå¾…æµ‹è¯•çš„ Agent Response ä¸­çš„å·¥å…·åç§°ã€‚</li><li>( D_{\text{gt}} )ï¼šGround Truth ä¸­çš„ä»»åŠ¡æè¿°ã€‚</li><li>( D_{\text{pred}} )ï¼šå¾…æµ‹è¯•çš„ Agent Response ä¸­çš„ä»»åŠ¡æè¿°ã€‚</li><li>( \text{EM}(T_{\text{gt}}, T_{\text{pred}}) )ï¼šç²¾ç¡®åŒ¹é…ï¼ˆExact Matchï¼‰ï¼Œç»“æœä¸º 0 æˆ– 1ã€‚<br>[<br>\text{EM}(T_{\text{gt}}, T_{\text{pred}}) =<br>\begin{cases}<br>1 &amp; \text{if } T_{\text{gt}} = T_{\text{pred}} \<br>0 &amp; \text{otherwise}<br>\end{cases}<br>]</li><li>( \text{Image}(D_{\text{gt}}, D_{\text{pred}}) )ï¼šæ¨¡ç³ŠåŒ¹é…è¯„åˆ†ï¼Œå¯ä»¥ä½¿ç”¨ ROUGEã€BLEU ç­‰æ–‡æœ¬ç”Ÿæˆè´¨é‡è¯„ä¼°æ–¹æ³•ï¼Œåˆ†å€¼ä¸º 0-1ã€‚</li><li>( \lambda )ï¼šæƒé‡ç³»æ•°ï¼Œç”¨äºå¹³è¡¡å·¥å…·åç§°å’Œä»»åŠ¡æè¿°åœ¨æ€»åˆ†ä¸­çš„è´¡çŒ®ã€‚</li></ul><h4 id="äººå·¥è¯„ä¼°ï¼ˆç¬”è®°ï¼‰"><a href="#äººå·¥è¯„ä¼°ï¼ˆç¬”è®°ï¼‰" class="headerlink" title="äººå·¥è¯„ä¼°ï¼ˆç¬”è®°ï¼‰"></a>äººå·¥è¯„ä¼°ï¼ˆç¬”è®°ï¼‰</h4><p>è¯„ä¼°æ ‡å‡†ç¤ºä¾‹ï¼š</p><hr><div font-size: 16px; padding-left:8px;">è¯„åˆ†åˆ†ä¸ºäº”ä¸ªç­‰çº§ï¼Œå…·ä½“å®šä¹‰å¦‚ä¸‹ï¼š<p>1åˆ†ï¼šæ ¸å¿ƒä¿¡æ¯å­˜åœ¨é‡å¤§ä¸å‡†ç¡®æ€§ï¼Œå¤§éƒ¨åˆ†æˆ–å…¨éƒ¨å†…å®¹ä¸æ­£ç¡®ï¼›<br>2åˆ†ï¼šæ ¸å¿ƒä¿¡æ¯ä¸æ­£ç¡®ï¼Œæˆ–è¶…è¿‡60%çš„å†…å®¹æœ‰é”™è¯¯ï¼›<br>3åˆ†ï¼šæ ¸å¿ƒä¿¡æ¯å‡†ç¡®ï¼Œä½†10%åˆ°60%çš„è¡¥å……ä¿¡æ¯ä¸æ­£ç¡®ï¼›<br>4åˆ†ï¼šå°æœ‰å‡ºå…¥ï¼Œæ ¸å¿ƒä¿¡æ¯å‡†ç¡®ï¼Œè¡¥å……ä¿¡æ¯ä¸­çš„é”™è¯¯ä¸è¶…è¿‡10%ï¼›<br>5åˆ†ï¼šå®Œå…¨æ­£ç¡®ã€‚</p><p>å¾—åˆ†ä¸º4åˆ†æˆ–5åˆ†çš„å›ç­”è¢«è®¤ä¸ºæ˜¯å¯ç”¨çš„ã€‚</p><p>é‡åˆ°è¿è§„å†…å®¹ä¸€ç¥¨å¦å†³ï¼Œç›´æ¥åˆ¤0åˆ†ã€‚</p><p>â€¦â€¦</p><hr><p>äººå·¥è¯„ä¼°æ•ˆç‡ä½ã€æˆæœ¬é«˜ï¼Œæ‰€ä»¥ä¸èƒ½é¢‘ç¹ä½¿ç”¨ï¼Œä¸€èˆ¬åœ¨å¤§çš„æ¨¡å‹ç‰ˆæœ¬ä¸Šä½¿ç”¨ã€‚</p><br><h4 id="Agent-æ³›åŒ–æ€§æå‡-ï¼ˆç¬”è®°ï¼‰"><a href="#Agent-æ³›åŒ–æ€§æå‡-ï¼ˆç¬”è®°ï¼‰" class="headerlink" title="Agent æ³›åŒ–æ€§æå‡ ï¼ˆç¬”è®°ï¼‰"></a>Agent æ³›åŒ–æ€§æå‡ ï¼ˆç¬”è®°ï¼‰</h4><p>ä»Queryï¼ŒTools,Agent Prompt æ¨¡æ¿ä¸‰ä¸ªç»´åº¦æå‡æ³›æ€§</p><ul><li><p>1.è¦†ç›–å…¨éƒ¨åœºæ™¯<br>åœ¨æ„å»ºå†…éƒ¨ä¸šåŠ¡å·¥å…·æ—¶ï¼Œéœ€è¦å°½å¯èƒ½è¦†ç›–æ‰€æœ‰æ½œåœ¨çš„ä¸šåŠ¡åœºæ™¯ï¼Œç‰¹åˆ«æ˜¯é’ˆå¯¹å·¥å…·çš„æŸ¥è¯¢ï¼ˆqueryï¼‰è¿›è¡Œè®¾è®¡ã€‚è¿™æ ·å¯ä»¥é¿å…é—æ¼æŸäº›åœºæ™¯ï¼Œç¡®ä¿å·¥å…·åœ¨ä¸åŒåœºæ™¯ä¸‹éƒ½èƒ½æ­£å¸¸å·¥ä½œã€‚</p></li><li><p>2.å›°éš¾è´Ÿæ ·æœ¬çš„æ„é€ <br>åœ¨æ ·æœ¬æ„å»ºæ—¶ï¼Œéœ€è¦ç¡®ä¿æ­£æ ·æœ¬å’Œè´Ÿæ ·æœ¬çš„å¤šæ ·æ€§ï¼Œç‰¹åˆ«æ˜¯å›°éš¾è´Ÿæ ·æœ¬çš„æ„é€ ã€‚æ­£æ ·æœ¬æ˜¯é‚£äº›æ˜ç¡®éœ€è¦è°ƒç”¨å·¥å…·çš„æŸ¥è¯¢ï¼Œè€Œå›°éš¾è´Ÿæ ·æœ¬æ˜¯é‚£äº›çœ‹èµ·æ¥å’Œå·¥å…·ç›¸å…³ä½†å®é™…ä¸Šä¸éœ€è¦è°ƒç”¨å·¥å…·çš„æŸ¥è¯¢ã€‚è¿™æ ·çš„è®¾è®¡å¯ä»¥å¸®åŠ©è®­ç»ƒæ¨¡å‹è¯†åˆ«å·¥å…·è°ƒç”¨çš„è¾¹ç•Œã€‚</p><p>ç¤ºä¾‹ï¼š</p><ul><li>æ­£æ ·æœ¬ï¼šä¸Šæµ·æ˜å¤©å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿï¼ˆéœ€è¦è°ƒç”¨å¤©æ°”æŸ¥è¯¢å·¥å…·ï¼‰</li><li>å›°éš¾è´Ÿæ ·æœ¬ï¼šä»Šå¤©å¤©æ°”çœŸå¥½ï¼ˆè™½ç„¶æåˆ°å¤©æ°”ï¼Œä½†ä¸éœ€è¦è°ƒç”¨å·¥å…·ï¼‰</li><li>ç»éªŒå€¼ï¼šæ­£æ ·æœ¬å’Œå›°éš¾è´Ÿæ ·æœ¬çš„æ¯”ä¾‹é€šå¸¸å»ºè®®ä¸º 4:1ã€‚<br>æ ·æœ¬å¤æ‚åº¦çš„å¤šæ ·æ€§</li></ul></li></ul><ul><li>3.å·¥å…·æè¿°æ ¼å¼å¤šæ ·æ€§<br>åŒä¸€ä¸ªå·¥å…·åœ¨ä¸åŒå¹³å°æˆ–æ¡†æ¶ä¸­å¯èƒ½ä¼šæœ‰ä¸åŒçš„æè¿°æ ¼å¼ã€‚<br>ä¾‹å¦‚ï¼ŒOpenAI functionã€AutoGPTåœ¨æè¿°æ–¹å¼ä¸Šå¯èƒ½æœ‰æ‰€ä¸åŒï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;&quot;name&quot;: &quot;web_search&quot;, &quot;description&quot;: &quot;Perform an internet search.&quot;, &quot;parameters&quot;: &#123;&quot;type&quot;: &quot;object&quot;, &quot;properties&quot;: &#123;&quot;text&quot;: &#123;&quot;type&quot;: &quot;str&quot;, &quot;description&quot;: &quot;Search query.&quot;&#125;&#125;&#125;, &quot;returns&quot;: &#123;&quot;description&quot;: &quot;Multiple webpage links along with brief descriptions.&quot;, &quot;type&quot;: &quot;str&quot;&#125;, &quot;required&quot;: [&quot;text&quot;]&#125;</span><br><span class="line">AutoGPTï¼šWeb Search: &quot;web_search&quot;, args: &quot;text&quot;: &quot;&quot;</span><br></pre></td></tr></table></figure></li></ul></div></div><footer class="article-footer"><a data-url="http://yoursite.com/2024/07/15/Agent-Tuning/" data-id="cm67zemwt002eieqb53c1uqg7" class="article-share-link"><i class="fa fa-share"></i>Share</a><script>(i=>{i("body").on("click",function(){i(".article-share-box.on").removeClass("on")}).on("click",".article-share-link",function(t){t.stopPropagation();var e=(t=i(this)).attr("data-url"),a=encodeURIComponent(e),o="article-share-box-"+t.attr("data-id"),t=t.offset();if(i("#"+o).length){if((r=i("#"+o)).hasClass("on"))return void r.removeClass("on")}else{var o=['<div id="'+o+'" class="article-share-box">','<input class="article-share-input" value="'+e+'">','<div class="article-share-links">','<a href="https://twitter.com/intent/tweet?url='+a+'" class="article-share-twitter" target="_blank" title="Twitter"></a>','<a href="https://www.facebook.com/sharer.php?u='+a+'" class="article-share-facebook" target="_blank" title="Facebook"></a>','<a href="http://pinterest.com/pin/create/button/?url='+a+'" class="article-share-pinterest" target="_blank" title="Pinterest"></a>','<a href="https://plus.google.com/share?url='+a+'" class="article-share-google" target="_blank" title="Google+"></a>',"</div>","</div>"].join(""),r=i(o);i("body").append(r)}i(".article-share-box.on").hide(),r.css({top:t.top+25,left:t.left}).addClass("on")}).on("click",".article-share-box",function(t){t.stopPropagation()}).on("click",".article-share-box-input",function(){i(this).select()}).on("click",".article-share-box-link",function(t){t.preventDefault(),t.stopPropagation(),window.open(this.href,"article-share-box-window-"+Date.now(),"width=500,height=450")})})(jQuery)</script></footer></article><section id="comments"><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div></section></div></section><aside id="sidebar"><a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a><nav id="article-nav"><a href="/2024/07/14/Estimating-GPU-Memory/" id="article-nav-older" class="article-nav-link-wrap"><strong class="article-nav-caption">older</strong><p class="article-nav-title">ä¼°ç®—GPUå†…å­˜</p><i class="icon fa fa-chevron-left" id="icon-chevron-left"></i></a></nav><div class="widgets-container"><div class="widget-wrap"><h3 class="widget-title">recents</h3><div class="widget"><ul id="recent-post" class="no-thumbnail"><li><div class="item-inner"><p class="item-category"><a class="article-category-link" href="/categories/Technical-Notes/">Technical Notes</a></p><p class="item-title"><a href="/2024/07/15/Agent-Tuning/" class="title">Agent-Tuning</a></p><p class="item-date"><time datetime="2024-07-15T20:33:00.000Z" itemprop="datePublished">2024-07-15</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="article-category-link" href="/categories/Technical-Notes/">Technical Notes</a></p><p class="item-title"><a href="/2024/07/14/Estimating-GPU-Memory/" class="title">ä¼°ç®—GPUå†…å­˜</a></p><p class="item-date"><time datetime="2024-07-14T19:00:00.000Z" itemprop="datePublished">2024-07-14</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="article-category-link" href="/categories/Technical-Notes/">Technical Notes</a></p><p class="item-title"><a href="/2024/02/20/fine_tune_part1/" class="title">æ€»ç»“Fine-Tune ChatGLM3çš„è¿‡ç¨‹part-1</a></p><p class="item-date"><time datetime="2024-02-20T14:11:00.000Z" itemprop="datePublished">2024-02-20</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="article-category-link" href="/categories/Technical-Notes/">Technical Notes</a></p><p class="item-title"><a href="/2023/12/25/fn_rag/" class="title">æŸé”€å”®åœºæ™¯ä¸‹å¦‚ä½•åˆ©ç”¨LLM</a></p><p class="item-date"><time datetime="2023-12-25T12:11:00.000Z" itemprop="datePublished">2023-12-25</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="article-category-link" href="/categories/Technical-Notes/">Technical Notes</a></p><p class="item-title"><a href="/2023/07/01/Attention/" class="title">è‡ªæ³¨æ„åŠ›æœºåˆ¶åšäº†ä»€ä¹ˆï¼Ÿ</a></p><p class="item-date"><time datetime="2023-07-01T16:22:00.000Z" itemprop="datePublished">2023-07-01</time></p></div></li></ul></div></div><div class="widget-wrap widget-list"><h3 class="widget-title">categories</h3><div class="widget"><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Technical-Notes/">Technical Notes</a><span class="category-list-count">24</span></li></ul></div></div><div class="widget-wrap widget-list"><h3 class="widget-title">archives</h3><div class="widget"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/07/">July 2024</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/02/">February 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/12/">December 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/07/">July 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/06/">June 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">May 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a><span class="archive-list-count">1</span></li></ul></div></div><div class="widget-wrap widget-list"><h3 class="widget-title">tags</h3><div class="widget"><ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/LLM/">LLM</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Performance/">Performance</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RAG/">RAG</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/aliyun/">aliyun</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/azure/">azure</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ceph/">ceph</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/k8s/">k8s</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/network/">network</a><span class="tag-list-count">2</span></li></ul></div></div></div></aside></div></div></div><footer id="footer"><div class="container"><div class="container-inner"><a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a><div class="credit"><h1 class="logo-wrap"><a href="/" class="logo"></a></h1><p>&copy; 2025 bjdzliu</p></div></div></div></footer><script>var disqus_shortname="hexo-theme-hueman",disqus_url="http://yoursite.com/2024/07/15/Agent-Tuning/";(()=>{var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)})()</script><script src="/libs/lightgallery/js/lightgallery.min.js"></script><script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script><script src="/libs/lightgallery/js/lg-pager.min.js"></script><script src="/libs/lightgallery/js/lg-autoplay.min.js"></script><script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script><script src="/libs/lightgallery/js/lg-zoom.min.js"></script><script src="/libs/lightgallery/js/lg-hash.min.js"></script><script src="/libs/lightgallery/js/lg-share.min.js"></script><script src="/libs/lightgallery/js/lg-video.min.js"></script><script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="/js/main.js"></script></div></body>